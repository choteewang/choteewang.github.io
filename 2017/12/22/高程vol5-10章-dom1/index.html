<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 正反馈系列:《JavaScript高级程序设计》DOM 1级 · choteewang</title><meta name="description" content="正反馈系列:《JavaScript高级程序设计》DOM 1级 - choteewang@qq.com"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="choteewang"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">CHOTEE'S BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">LIST</a></li><li class="nav-list-item"><a href="https://github.com/choteewang" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">正反馈系列:《JavaScript高级程序设计》DOM 1级</h1><div class="post-info">2017年12月22日</div><div class="post-content"><p>本章主要讨论<code>DOM 1级规范</code></p>
<h2 id="节点层次"><a href="#节点层次" class="headerlink" title="节点层次"></a>节点层次</h2><h2 id="Node类型"><a href="#Node类型" class="headerlink" title="Node类型"></a>Node类型</h2><blockquote>
<p>javascript中所有的节点都继承自<code>Node</code>类型,因此所有节点类型都共享着相同的基本属性和方法</p>
<p>节点类型由在Node类型中定义的12个数值常量来表示,任何节点类型必居其一</p>
</blockquote>
<ul>
<li>Node.ELEMENT_NODE(1)； //元素节点,1</li>
<li>Node.ATTRIBUTE_NODE(2)； //特性节点,2</li>
<li>Node.TEXT_NODE(3)； //文本节点3</li>
<li>Node.CDATA_SECTION_NODE(4)；</li>
<li>Node.ENTITY_REFERENCE_NODE(5)； </li>
<li>Node.ENTITY_NODE(6)； </li>
<li>Node.PROCESSING_INSTRUCTION_NODE(7)； </li>
<li>Node.COMMENT_NODE(8)；</li>
<li>Node.DOCUMENT_NODE(9)； </li>
<li>Node.DOCUMENT_TYPE_NODE(10)； </li>
<li>Node.DOCUMENT_FRAGMENT_NODE(11)； </li>
<li>Node.NOTATION_NODE(12)。</li>
</ul>
<h3 id="node-nodeType-node-nodeName-node-nodeValue"><a href="#node-nodeType-node-nodeName-node-nodeValue" class="headerlink" title="node.nodeType,node.nodeName,node.nodeValue"></a>node.nodeType,node.nodeName,node.nodeValue</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IE的节点是COM实现的,所以在IE中无效</span></span><br><span class="line"><span class="keyword">if</span> (someNode.nodeType == Node.ELEMENT_NODE) &#123;</span><br><span class="line">  alert(<span class="string">"Node is an element."</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (someNode.nodeType == <span class="number">1</span>) &#123; </span><br><span class="line">  <span class="comment">//适用于所有浏览器 alert("Node is an element."); </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th></th>
<th>nodeType</th>
<th>nodeName</th>
<th>nodeValue</th>
</tr>
</thead>
<tbody>
<tr>
<td>element</td>
<td>1</td>
<td>标签名</td>
<td>null</td>
</tr>
<tr>
<td>attribute</td>
<td>2</td>
<td>特性名</td>
<td>特性值</td>
</tr>
<tr>
<td>text</td>
<td>3</td>
<td>#text</td>
<td>文本值</td>
</tr>
</tbody>
</table>
<h3 id="node-childNodes属性-NodeList对象"><a href="#node-childNodes属性-NodeList对象" class="headerlink" title="node.childNodes属性,NodeList对象"></a>node.childNodes属性,NodeList对象</h3><p><img src="https://i.loli.net/2017/12/22/5a3c1e6eacf0d.jpg" alt=""></p>
<blockquote>
<p>每个节点都有一个<code>childNodes</code>属性,其中保存着一个<code>NodeList</code>对象,对象里面装着node的子节点, <code>NodeList</code>是伪数组,用于保存一组有序节点,可以通过为止来访问这些节点,有<code>length</code>属性.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以通过方括号,或item()方法访问childNodes中保存的NodeList对象(伪数组)</span></span><br><span class="line"><span class="keyword">var</span> firstChild = someNode.childNodes[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> secondChild = someNode.childNodes.item(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> count = someNode.childNodes.length;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将NodeList转化为数组</span></span><br><span class="line"><span class="keyword">var</span> arrayOfNodes = <span class="built_in">Array</span>.prototype.slice.call(someNode.childNodes,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//IE浏览器将NodeList(IE中是一个COM对象)转化为数组</span></span><br><span class="line"><span class="comment">//导致错误后手动转化数组,怪癖检测</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertToArray</span>(<span class="params">nodes</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> array = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    array = <span class="built_in">Array</span>.prototype.slice.call(nodes, <span class="number">0</span>); <span class="comment">//针对非 IE 浏览器 </span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">    array = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = nodes.length; i &lt; len; i++) &#123;</span><br><span class="line">      array.push(nodes[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="node-parentNode属性"><a href="#node-parentNode属性" class="headerlink" title="node.parentNode属性"></a>node.parentNode属性</h3><blockquote>
<p>指向父节点,一个childNodes列表中的所有节点都有相同的父节点</p>
</blockquote>
<h3 id="node-previousSibling-node-nextSibling"><a href="#node-previousSibling-node-nextSibling" class="headerlink" title="node.previousSibling,node.nextSibling"></a>node.previousSibling,node.nextSibling</h3><blockquote>
<p>childNodes列表中的每个节点相互之间是同胞节点,列表第一个节点的previousSibling和列表最后一个节点的nextSibling的值是null</p>
</blockquote>
<h3 id="node-firstChild-node-lastChild"><a href="#node-firstChild-node-lastChild" class="headerlink" title="node.firstChild,node.lastChild"></a>node.firstChild,node.lastChild</h3><blockquote>
<p>分别指向childNodes列表的第一个子节点和最后一个子节点,没有则为null</p>
</blockquote>
<h3 id="node-hasChildNodes"><a href="#node-hasChildNodes" class="headerlink" title="node.hasChildNodes()"></a>node.hasChildNodes()</h3><p><code>node.hasChildNodes() return boolean</code></p>
<blockquote>
<p>此方法在node包含1到多个子节点的情况下返回true</p>
</blockquote>
<h3 id="node-ownerDocument属性"><a href="#node-ownerDocument属性" class="headerlink" title="node.ownerDocument属性"></a>node.ownerDocument属性</h3><blockquote>
<p>该属性指向node所在文档的文档节点<code>&lt;html&gt;</code></p>
</blockquote>
<h3 id="node-appendChild"><a href="#node-appendChild" class="headerlink" title="node.appendChild()"></a>node.appendChild()</h3><p><code>node.appendChild(node1),return node1</code></p>
<blockquote>
<p>在node节点的childNodes列表最后增加一个节点node1,并返回node1<br>若node1已经是文档的一部分了,则变为剪切</p>
</blockquote>
<h3 id="node-insertBefore"><a href="#node-insertBefore" class="headerlink" title="node.insertBefore()"></a>node.insertBefore()</h3><p><code>node.insertBefore(node1[,node2]) return node1</code></p>
<blockquote>
<p>将node1插入到node的childNodes子节点列表的node2之前,作为node2的previousSibiling,若node2为null,则和appendChild()执行同样操作,插入到childNodes尾部</p>
</blockquote>
<h3 id="node-replaceChild"><a href="#node-replaceChild" class="headerlink" title="node.replaceChild()"></a>node.replaceChild()</h3><p><code>node.replaceChild(node1,node2) return node2</code></p>
<blockquote>
<p>将node1放入到node的childNotes列表中的note2处替换掉node2,将node2返回</p>
</blockquote>
<h3 id="node-removeChild"><a href="#node-removeChild" class="headerlink" title="node.removeChild()"></a>node.removeChild()</h3><p><code>node.removeChild(node1) return node1</code></p>
<blockquote>
<p>将node1从node的childNotes列表中移除,并返回</p>
</blockquote>
<h3 id="node-cloneNode"><a href="#node-cloneNode" class="headerlink" title="node.cloneNode()"></a>node.cloneNode()</h3><p><code>node.cloneNode(boolean) return nodeCopy</code></p>
<blockquote>
<p>复制node节点,并返回复制的节点副本<br>boolean为true深复制(复制节点以及整个子节点树),为false浅复制(只复制节点本身),复制后返回的节点副本没有被插入文档,需手动将其插入文档某个位置<br>不复制事件,只复制特性</p>
</blockquote>
<h2 id="Document-类型"><a href="#Document-类型" class="headerlink" title="Document 类型"></a>Document 类型</h2><blockquote>
<p>JavaScript 通过 Document 类型表示文档.<br>document 对象是 HTMLDocument（继承 自 Document 类型）的一个实例，表示整个 HTML 页面。<br>document 对象是 window 对象的一个属性，因此可以将其作为全局对象来访问</p>
</blockquote>
<h3 id="document对象的基本属性"><a href="#document对象的基本属性" class="headerlink" title="document对象的基本属性"></a>document对象的基本属性</h3><ul>
<li><code>nodeType</code> : 9</li>
<li><code>nodeName</code> : #document</li>
<li><code>nodeValue</code> : null</li>
<li><code>parentNode</code> : null</li>
<li><code>ownerDocument</code> : null</li>
<li><code>documentElement</code> : <code>&lt;html&gt;</code></li>
<li><code>body</code> : <code>&lt;body&gt;</code></li>
<li><code>childNodes</code>列表 : 包含<html>的子节点列表</html></li>
<li><code>doctype</code>: DocumentType_NODE(10)类型,就是&lt;!DOCTYPE&gt;</li>
<li>（最多一个）、Element（最多一个）、ProcessingInstruction 或 Comment</li>
</ul>
<h3 id="document-documentElement属性"><a href="#document-documentElement属性" class="headerlink" title="document.documentElement属性"></a>document.documentElement属性</h3><blockquote>
<p>该属性指向<html>元素</html></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="built_in">document</span>.documentElement; <span class="comment">//取得对&lt;html&gt;的引用</span></span><br><span class="line">alert(html === <span class="built_in">document</span>.childNodes[<span class="number">0</span>]); <span class="comment">//true</span></span><br><span class="line">alert(html === <span class="built_in">document</span>.firstChild); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h3 id="document-body"><a href="#document-body" class="headerlink" title="document.body"></a>document.body</h3><blockquote>
<p>该属性指向<code>&lt;body&gt;</code>元素</p>
</blockquote>
<h3 id="document-doctype"><a href="#document-doctype" class="headerlink" title="document.doctype"></a>document.doctype</h3><blockquote>
<p>DocumentType_NODE(10)类型<br>该属性指向<code>&lt;!DOCTYPE&gt;</code></p>
</blockquote>
<h3 id="document-title"><a href="#document-title" class="headerlink" title="document.title"></a>document.title</h3><blockquote>
<p>当前页面标题,修改会反应在浏览器标题栏中</p>
</blockquote>
<h3 id="document-URL-document-domain-document-referrer"><a href="#document-URL-document-domain-document-referrer" class="headerlink" title="document.URL,document.domain,document.referrer"></a>document.URL,document.domain,document.referrer</h3><blockquote>
<p>URL属性包含页面完整URL ‘<a href="http://www.wrox.com/WileyCDA/" target="_blank" rel="external">http://www.wrox.com/WileyCDA/</a>‘<br>domain只包含页面的域名 ‘www.wrox.com’<br>referrer保存链接到当前页面的那个页面URL,若无来源,可能是空字符串<br>这三个信息都存在于HTTP请求的头部,只不过这些属性让我们可以用js访问它们</p>
</blockquote>
<h3 id="document-getElementsByTagName"><a href="#document-getElementsByTagName" class="headerlink" title="document.getElementsByTagName()"></a>document.getElementsByTagName()</h3><p><code>document.getElementsByTagName() return HTMLCollection</code></p>
<blockquote>
<p>HTMLCollection对象是一个动态集合,与NodeList非常类似,可以用<code>.item(index)</code>方法来访问其中的项, 有<code>length</code>属性<br>HTMLCollection有<code>.namedItem()</code>方法,使用这个方法可以通过元素<code>name</code>特性取得集合中的项<br>对有<code>name</code>特性的项,可以用方括号语法访问,与下例<code>.namedItem()</code>作用相同.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;img src="myimage.gif" name="myImage"&gt;</span></span><br><span class="line"><span class="keyword">var</span> images = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>);</span><br><span class="line">alert(images.length);</span><br><span class="line">alert(images[<span class="number">0</span>].src);</span><br><span class="line">alert(images.item(<span class="number">0</span>).src);</span><br><span class="line"><span class="keyword">var</span> myImage = images[<span class="string">"myImage"</span>]; <span class="comment">//返回与下一行一样的结果</span></span><br><span class="line"><span class="keyword">var</span> myImage = images.namedItem(<span class="string">"myImage"</span>); <span class="comment">// 返回与上一行一样的结果</span></span><br><span class="line"><span class="keyword">var</span> allElements = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"*"</span>);<span class="comment">//返回页面所有元素</span></span><br></pre></td></tr></table></figure>
<p>对 <code>HTMLCollection</code> 而言，我们可以向方括号中传入数值或字符串形式的索引值。在后台，对数值索引就会调用 <code>item()</code>，而对字符串索引就会调用 <code>namedItem()</code>。</p>
<h3 id="document-getElementsbyName"><a href="#document-getElementsbyName" class="headerlink" title="document.getElementsbyName()"></a>document.getElementsbyName()</h3><p><code>document.getElementsbyName() return HTMLCollection</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"red"</span> <span class="attr">name</span>=<span class="string">"color"</span> <span class="attr">id</span>=<span class="string">"colorRed"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"colorRed"</span>&gt;</span>Red<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"green"</span> <span class="attr">name</span>=<span class="string">"color"</span> <span class="attr">id</span>=<span class="string">"colorGreen"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"colorGreen"</span>&gt;</span>Green<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">"blue"</span> <span class="attr">name</span>=<span class="string">"color"</span> <span class="attr">id</span>=<span class="string">"colorBlue"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"colorBlue"</span>&gt;</span>Blue<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 下述代码只能选中被选中的input单选框</span></span><br><span class="line"><span class="comment">// 因为返回的HTMLCollection调用了.namedItem('color'),只会选择第一项</span></span><br><span class="line"><span class="comment">// 因为每项name特性都相同</span></span><br><span class="line"><span class="built_in">document</span>.getElementsbyName(<span class="string">'color'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="特殊集合"><a href="#特殊集合" class="headerlink" title="特殊集合"></a>特殊集合</h3><ul>
<li><code>document.anchors</code>，包含文档中所有带 name 特性的<code>&lt;a&gt;</code>元素； </li>
<li><code>document.forms</code>，包含文档中所有的<code>&lt;form&gt;</code>元素，与 document.getElementsByTagName(“form”) 得到的结果相同； </li>
<li><code>document.images</code>，包含文档中所有的<code>&lt;img&gt;</code>元素，与 document.getElementsByTagName (“img”)得到的结果相同； </li>
<li><code>document.links</code>，包含文档中所有带 href 特性的<code>&lt;a&gt;</code>元素。</li>
</ul>
<h3 id="其他简单方法"><a href="#其他简单方法" class="headerlink" title="其他简单方法"></a>其他简单方法</h3><ul>
<li><code>document.getElementbyId()</code></li>
<li><code>document.write()</code> 重写文档内容</li>
<li><code>document.writeln()</code> 重写文档内容,结尾加’\n’</li>
<li><code>document.open()</code> 打开文档输出流</li>
<li><code>document.close()</code> 关闭文档输出流</li>
</ul>
<h2 id="Element类型"><a href="#Element类型" class="headerlink" title="Element类型"></a>Element类型</h2><h3 id="基本属性"><a href="#基本属性" class="headerlink" title="基本属性"></a>基本属性</h3><ul>
<li><code>nodeType</code> : 1</li>
<li><code>nodeName</code> : 标签名</li>
<li><code>nodeValue</code> : null</li>
<li><code>nodeName</code> : <code>tagName</code></li>
<li><code>tagName</code> : <code>nodeName</code></li>
</ul>
<h3 id="HTML元素"><a href="#HTML元素" class="headerlink" title="HTML元素"></a>HTML元素</h3><blockquote>
<p>所有 HTML 元素都由 HTMLElement 类型表示，不是直接通过这个类型，也是通过它的子类型来表示。HTMLElement 类型直接继承自 Element 并添加了一些属性。添加的这些属性分别对应于每个 HTML 元素中都存在的下列标准特性。</p>
</blockquote>
<h3 id="HTML元素-基本属性"><a href="#HTML元素-基本属性" class="headerlink" title="HTML元素 基本属性"></a>HTML元素 基本属性</h3><ul>
<li><code>id</code></li>
<li><code>title</code> : 附加信息说明,工具条提示</li>
<li><code>lang</code> : 语言编码,很少使用</li>
<li><code>dir</code> : 语言方向,值为<code>ltr</code>,<code>rtl</code>(left to right, right to left)</li>
<li><code>className</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;div id="myDiv" class="bd" title="Body text" lang="en" dir="ltr"&gt;&lt;/div&gt; </span></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line">alert(div.id); <span class="comment">//"myDiv"" </span></span><br><span class="line">alert(div.className); <span class="comment">//"bd" </span></span><br><span class="line">alert(div.title); <span class="comment">//"Body text" </span></span><br><span class="line">alert(div.lang); <span class="comment">//"en" </span></span><br><span class="line">alert(div.dir); <span class="comment">//"ltr"</span></span><br></pre></td></tr></table></figure>
<h3 id="取得特性"><a href="#取得特性" class="headerlink" title="取得特性"></a>取得特性</h3><blockquote>
<p>注意:若要获得class值,attr位置应该是<code>class</code>,而不是<code>className</code><br>根据HTML5规范,自定义特性应该加上<code>data</code>前缀,以便验证<br>两类用getAttribute获取达不到预期的特性:<code>style</code>* 和<code>onclick等事件</code><br>setAttribute设置的特姓名会转为小写</p>
</blockquote>
<ul>
<li><code>htmlElement.getAttribute(attr) return string</code> </li>
<li><code>htmlElement.setAttribute(attr,value)</code> </li>
<li><code>htmlElement.removeAttribute(attr)</code></li>
</ul>
<p>不过，像下面这样为 DOM 元素添加一个自定义的属性，该属性不会自动成为元素的特性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div.mycolor = <span class="string">"red"</span>; </span><br><span class="line">alert(div.getAttribute(<span class="string">"mycolor"</span>)); <span class="comment">//null（IE 除外）</span></span><br></pre></td></tr></table></figure>
<h3 id="attributes属性"><a href="#attributes属性" class="headerlink" title="attributes属性"></a>attributes属性</h3><p>Element 类型是使用 <code>attributes</code> 属性的唯一一个 DOM 节点类型。<code>attributes</code> 属性中包含一个<code>NamedNodeMap</code>，与 <code>NodeList</code> 类似，也是一个“动态”的集合。元素的每一个特性都由一个 <code>Attr 节点</code>表示，每个节点都保存在 <code>NamedNodeMap</code> 对象中。<code>NamedNodeMap</code> 对象拥有下列方法。</p>
<ul>
<li><code>getNamedItem(name) return nodeName</code>：返回 <code>nodeName</code> 属性等于 <code>name</code> 的节点； </li>
<li><code>removeNamedItem(name)</code>：从列表中移除 <code>nodeName</code> 属性等于 <code>name</code> 的节点； </li>
<li><code>setNamedItem(node)</code>：向列表中添加节点，以节点的 <code>nodeName</code> 属性为索引； </li>
<li><code>item(pos)</code>：返回位于数字 pos 位置处的节点。</li>
</ul>
<blockquote>
<p>看一些例子</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等同于var id = element.id</span></span><br><span class="line"><span class="keyword">var</span> id = element.attributes.getNamedItem(<span class="string">"id"</span>).nodeValue;</span><br><span class="line"><span class="keyword">var</span> id = element.attributes[<span class="string">"id"</span>].nodeValue;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于element.id = 'someOtherId'</span></span><br><span class="line">element.attributes[<span class="string">"id"</span>].nodeValue = <span class="string">"someOtherId"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> oldAttr = element.attributes.removeNamedItem(<span class="string">"id"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// setNamedItem极其没用</span></span><br><span class="line">element.attributes.setNamedItem(newAttrNode);</span><br></pre></td></tr></table></figure>
<h3 id="document-createElement"><a href="#document-createElement" class="headerlink" title="document.createElement()"></a>document.createElement()</h3><p><code>document.createElement(tagName) return HTMLElement</code></p>
<blockquote>
<p>创建元素的同时,也为元素设置了ownerDocument属性<br>返回的HTMLElenment未添加入文档树,需要手动添加</p>
</blockquote>
<h3 id="HTMLElement-getElementsByTagName"><a href="#HTMLElement-getElementsByTagName" class="headerlink" title="HTMLElement.getElementsByTagName()"></a>HTMLElement.getElementsByTagName()</h3><blockquote>
<p>像Document一样,HTMLElement同样支持此方法</p>
</blockquote>
<h2 id="Text类型"><a href="#Text类型" class="headerlink" title="Text类型"></a>Text类型</h2><h3 id="基本属性-1"><a href="#基本属性-1" class="headerlink" title="基本属性"></a>基本属性</h3><ul>
<li><code>nodeType</code> : 3</li>
<li><code>nodeName</code> : “#text”</li>
<li><code>nodeValue</code> : 节点所包含文本</li>
<li><code>parentNode</code> : 一个Element</li>
<li>没有子节点</li>
<li><code>data</code> : == <code>nodeValue</code></li>
<li><code>appendData(text)</code>：将 text 添加到节点的末尾。</li>
<li><code>deleteData(offset, count)</code>：从 offset 指定的位置开始删除 count 个字符。</li>
<li><code>insertData(offset, text)</code>：在 offset 指定的位置插入 text。</li>
<li><code>replaceData(offset, count, text)</code>：用 text 替换从 offset 指定的位置开始到 offset+ count 为止处的文本。</li>
<li><code>splitText(offset)</code>：从 offset 指定的位置将当前文本节点分成两个文本节点。</li>
<li><code>substringData(offset, count)</code>：提取从 offset 指定的位置开始到 offset+count 为止 处的字符串。</li>
<li><code>length</code>: nodeValue.length 或 data.length中也保存着同样的值</li>
</ul>
<blockquote>
<p>用js修改文本节点的值后,其会经过html或xml编码</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//输出结果是"Some &amp;lt;strong&amp;gt;other&amp;lt;/strong&amp;gt; message" </span></span><br><span class="line">div.firstChild.nodeValue = <span class="string">"Some &lt;strong&gt;other&lt;/strong&gt; message"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="document-createTextNode"><a href="#document-createTextNode" class="headerlink" title="document.createTextNode()"></a>document.createTextNode()</h3><p><code>document.createTextNode() return textNode</code> </p>
<blockquote>
<p>创建文本节点,要经过html编码,未插入文档,需要手动插入</p>
</blockquote>
<h3 id="node-normalize"><a href="#node-normalize" class="headerlink" title="node.normalize()"></a>node.normalize()</h3><blockquote>
<p>这个方法唯一的作用就是处理文档树中的文本节点。由于解析器的实现或 DOM 操作等原因，可能会出现文本节点不包含文本，或者接连出现两个文本节点的情况。当在某个节点上调用这个方法时，就会在该节点的后代节点中查找上述两种情况。如果找到了空文本节点，则删除它；如果找到相邻的文本节点，则将它们合并为一个文本节点<br>结果节点的 nodeValue 等于将合并前每个文本节点的 nodeValue 值拼接起来的值。</p>
</blockquote>
<h3 id="textNode-splitText"><a href="#textNode-splitText" class="headerlink" title="textNode.splitText()"></a>textNode.splitText()</h3><p><code>textNode.splitText(startPos) return nodeElement</code></p>
<blockquote>
<p>Text 类型提供了一个作用与 normalize()相反的方法：splitText()。这个方法会将一个文本节点分成两个文本节点，即按照指定的位置分割 nodeValue 值。原来的文本节点将包含从开始到指定位置之前的内容，新文本节点将包含剩下的文本。这个方法会返回一个新文本节点，该节点与原节点的 parentNode 相同。<br>经过splitText处理的文本节点, 分离后的两个文本节点都将留在html结构中.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">element.className = <span class="string">"message"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> textNode = <span class="built_in">document</span>.createTextNode(<span class="string">"Hello world!"</span>);</span><br><span class="line">element.appendChild(textNode);</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.body.appendChild(element);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newNode = element.firstChild.splitText(<span class="number">5</span>);</span><br><span class="line">alert(element.firstChild.nodeValue);  <span class="comment">//"Hello"</span></span><br><span class="line">alert(newNode.nodeValue);             <span class="comment">//"world!"</span></span><br><span class="line">alert(element.childNodes.length);     <span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<h2 id="Comment类型"><a href="#Comment类型" class="headerlink" title="Comment类型"></a>Comment类型</h2><ul>
<li><code>nodeType</code> : 8</li>
<li><code>nodeName</code> : “#comment”</li>
<li><code>nodeValue</code> : 注释内容</li>
<li><code>parentNode</code> : 可能是Document或Element</li>
<li>没有子节点</li>
<li><code>data</code> : == <code>nodeValue</code></li>
<li><code>appendData(text)</code>：将 text 添加到节点的末尾。</li>
<li><code>deleteData(offset, count)</code>：从 offset 指定的位置开始删除 count 个字符。</li>
<li><code>insertData(offset, text)</code>：在 offset 指定的位置插入 text。</li>
<li><code>replaceData(offset, count, text)</code>：用 text 替换从 offset 指定的位置开始到 offset+ count 为止处的文本。</li>
<li><code>splitText(offset)</code>：从 offset 指定的位置将当前文本节点分成两个文本节点。</li>
<li><code>substringData(offset, count)</code>：提取从 offset 指定的位置开始到 offset+count 为止 处的字符串。</li>
<li><code>length</code>: nodeValue.length 或 data.length中也保存着同样的值</li>
</ul>
<blockquote>
<p>与Text类型继承自同样的基类,拥有除splitText()外所有字符换操作方法. 与Text类型类似, 也可以通过nodeValue或data属性来取得注释内容</p>
</blockquote>
<ul>
<li><code>document.createComment(commentContent) return commentNode</code> 创建注释节点</li>
</ul>
<h2 id="其他类型"><a href="#其他类型" class="headerlink" title="其他类型"></a>其他类型</h2><h3 id="CDATASection类型"><a href="#CDATASection类型" class="headerlink" title="CDATASection类型"></a>CDATASection类型</h3><p>只针对XML文档,详情见高程P274</p>
<h3 id="DocumentType类型"><a href="#DocumentType类型" class="headerlink" title="DocumentType类型"></a>DocumentType类型</h3><p>这个对象保存在document.doctype中,只有一个name属性保存文档类型的名称(‘html’),详情见高程p274</p>
<h3 id="DocumentFragment类型"><a href="#DocumentFragment类型" class="headerlink" title="DocumentFragment类型"></a>DocumentFragment类型</h3><p>相当于一个后备”仓库”,用来存放将来可能会用到的节点,避免浏览器反复渲染,用的不多,详情见高程p275</p>
<h3 id="Attr类型"><a href="#Attr类型" class="headerlink" title="Attr类型"></a>Attr类型</h3><p>特性节点,但不建议用里面的api,使用getAttribute,setAttribute,removeAttribute远比其方便,详情见高程p276</p>
<h2 id="DOM-操作技术"><a href="#DOM-操作技术" class="headerlink" title="DOM 操作技术"></a>DOM 操作技术</h2><h3 id="动态脚本"><a href="#动态脚本" class="headerlink" title="动态脚本"></a>动态脚本</h3><blockquote>
<p>指页面加载时不存在,需要时再加载入html结构的script</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// url外部引入方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">  script.type = <span class="string">'text/javascript'</span></span><br><span class="line">  script.src = url</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(script)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递代码字符串,行内执行方式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params">code</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">  script.type = <span class="string">'text/javascript'</span></span><br><span class="line">  script.appendChild(<span class="built_in">document</span>.createTextNode(code))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码会在IE中报错,原因是IE不允许DOM访问script标签的子节点,<br>解决办法是使用<code>script</code>元素的<code>text</code>属性来指定代码</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScript</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">    script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">    script.text = <span class="string">"function sayHi()&#123;alert('hi');&#125;"</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>综合上述,得到向下兼容IE7的代码</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadScriptString</span>(<span class="params">code</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span><br><span class="line">    script.type = <span class="string">"text/javascript"</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        script.appendChild(<span class="built_in">document</span>.createTextNode(code));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ex)&#123;</span><br><span class="line">        script.text = code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addScript</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    loadScriptString(<span class="string">"function sayHi()&#123;alert('hi');&#125;"</span>);</span><br><span class="line">    sayHi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="动态样式"><a href="#动态样式" class="headerlink" title="动态样式"></a>动态样式</h3><blockquote>
<p>link标签最佳实践是放在head标签内,让html结构没加载时就开始加载css.若放在body标签内,可能会出现本来没样式的结构突然又有了样式的”闪屏”</p>
<p>动态样式基本套路和动态脚本一样,直接上代码</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadStyles</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> link = <span class="built_in">document</span>.createElement(<span class="string">'link'</span>)</span><br><span class="line">  link.rel=<span class="string">"stylesheet"</span></span><br><span class="line">  link.type=<span class="string">'css'</span></span><br><span class="line">  link.href=url</span><br><span class="line">  <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(link)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解决IE的问题是访问元素的styleSheet属性的属性cssText,其接受css代码</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadStyleString</span>(<span class="params">css</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> style = <span class="built_in">document</span>.createElement(<span class="string">"style"</span>);</span><br><span class="line">    style.type = <span class="string">"text/css"</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        style.appendChild(<span class="built_in">document</span>.createTextNode(css));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ex)&#123;</span><br><span class="line">        style.styleSheet.cssText = css;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>];</span><br><span class="line">    head.appendChild(style);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addStyle</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    loadStyleString(<span class="string">"body&#123;background-color:red&#125;"</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="操作表格"><a href="#操作表格" class="headerlink" title="操作表格"></a>操作表格</h3><blockquote>
<p>js为表格操作添加了一些api</p>
</blockquote>
<ul>
<li><code>&lt;table&gt;</code><ul>
<li>caption：保存着对<caption>元素（如果有）的指针。 </caption></li>
<li>tBodies：是一个<tbody>元素的 HTMLCollection。 </tbody></li>
<li>tFoot：保存着对<tfoot>元素（如果有）的指针。 </tfoot></li>
<li>tHead：保存着对<thead>元素（如果有）的指针。 </thead></li>
<li>rows：是一个表格中所有行的 HTMLCollection。 </li>
<li>createTHead()：创建<thead>元素，将其放到表格中，返回引用。 </thead></li>
<li>createTFoot()：创建<tfoot>元素，将其放到表格中，返回引用。 </tfoot></li>
<li>createCaption()：创建<caption>元素，将其放到表格中，返回引用。 </caption></li>
<li>deleteTHead()：删除<thead>元素。 </thead></li>
<li>deleteTFoot()：删除<tfoot>元素。 </tfoot></li>
<li>deleteCaption()：删除<caption>元素。 </caption></li>
<li>deleteRow(pos)：删除指定位置的行。 </li>
<li>insertRow(pos)：向 rows 集合中的指定位置插入一行。 </li>
</ul>
</li>
<li><code>&lt;tbody&gt;</code><ul>
<li>rows：保存着<tbody>元素中行的 HTMLCollection。 </tbody></li>
<li>deleteRow(pos)：删除指定位置的行。 </li>
<li>insertRow(pos)：向 rows 集合中的指定位置插入一行，返回对新插入行的引用。   </li>
</ul>
</li>
<li><code>&lt;tr&gt;</code><ul>
<li>cells：保存着<tr>元素中单元格的 HTMLCollection。 </tr></li>
<li>deleteCell(pos)：删除指定位置的单元格。</li>
<li>insertCell(pos)：向 cells 集合中的指定位置插入一个单元格，返回对新插入单元格的引用。</li>
</ul>
</li>
</ul>
<h3 id="使用NodeList"><a href="#使用NodeList" class="headerlink" title="使用NodeList"></a>使用NodeList</h3><blockquote>
<p>NodeList及其近亲NamedNodeMap和HTMLCollection都是动态的,每当文档结构发生变化,它们都会得到更新</p>
</blockquote>
<p>看一个无限循环的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"div"</span>), i, div;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i &lt; divs.length; i++)&#123; </span><br><span class="line">    div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>); </span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(div);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解决方法如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"div"</span>), i, len, div;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>, len=divs.length; i &lt; len; i++)&#123; </span><br><span class="line">    div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>); </span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(div); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2017/12/21/高程vol4-89章-bom-ua/" class="next">上一篇</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com">choteewang@qq.com</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>